
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model dynamic
    <div class="row upp2">
        <!-- Column -->
        <!-- Column -->
        <div class="col-lg-8 col-xlg-8 col-md-8">
            <div class="alert alert-info" style="display:none">
                <i class="ti-user"></i> The Sale is empty.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">×</span> </button>
            </div>
            <div class="row">
                <div class="col-lg-3 col-xlg-3 col-md-3">
                    <div class="btn-group mm1">
                        <button class="btn btn-primary mm2"><i class="ti-layout-grid2 gridicon"></i></button>
                        <button class="btn btn-primary mm3">Main Menu</button>
                    </div>
                </div>
                <div class="col-lg-3 col-xlg-3 col-md-3" style="display:block">
                    <button class="btn btn-primary posstg"> <i class="mdi mdi-settings "></i>POS Setting</button>
                </div>
                <div class="col-lg-6 col-xlg-6 col-md-6">
                    <form action="#">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Type the product name" aria-label="">
                            <div class="input-group-append">
                                <span class="input-group-text"><i class="mdi  mdi-magnify"></i></span>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div id="mainpos" style="display:none;">
                <div class="partpos">
                    <button type="button" class="btn ptp" data-toggle="modal" data-target="#generalsale" data-whatever=""><h4>General Sale</h4></button>
                </div>
                <div class="partpos bluebg">
                    <button type="button" class="btn ptp" data-toggle="modal" data-target="#giftvoucher" data-whatever=""><h4>Gift Voucher</h4></button>
                </div>
                <div class="partpos bluebg">
                    <button type="button" class="btn ptp" data-toggle="modal" data-target="#opendrawer" data-whatever=""><h4>Open Drawer</h4></button>
                </div>
                <div class="partpos bluebg">
                    <button type="button" class="btn ptp" data-toggle="modal" data-target="#cashout" data-whatever=""><h4>Cash Out</h4></button>
                </div>
            </div>
            <div id="childpos" class="row" style="display:block;">
                @if (Model.catType.Count > 0)
                {   
                    foreach (var catType in Model.catType)
                    {
                        <div class="childpospart">
                            <button type="button" class="btn ptp5" data-toggle="modal" data-target="#" data-whatever="" onclick="location.href='@Url.Action("FindSub", "POS", new { id = catType.Id })'"><i class="ti-folder iconpt"></i><div class="poschild5">@catType.TypeName</div></button>
                        </div>
                    }
                }
                else
                {
                    
                }
                @if (Model.prod.Count > 0)
                {    

                    foreach (var prod in Model.prod)
                    {
                        <div class="childpospart">
                            <button type="button" class="btn ptp5" data-toggle="modal" data-target="#" name="@prod.Name" id="@prod.Id" onclick="location.href='@Url.Action("getData", "POS", new { id= prod.Id})'" ><i class=" iconpt"></i><div class="poschild5">@prod.Name</div></button>
                        </div>
                    }
                    <div class="childpospart">
                        <button type="button" class="btn ptp5" data-toggle="modal" data-target="#" data-whatever="" onclick="location.href='@Url.Action("Index", "POS")'"><i class="ti-back-left iconpt"></i><div class="poschild5">Back</div></button>
                    </div>
                }
                else
                {
                    <div class="childpospart">
                        <button type="button" class="btn ptp5" data-toggle="modal" data-target="#" data-whatever="" onclick="location.href='@Url.Action("Index", "POS")'"><i class="ti-back-left iconpt"></i><div class="poschild5">Back</div></button>
                    </div>
                }

            </div>
            
        </div>
        <div class="col-lg-4 col-xlg-4 col-md-4">
            <div class="tablepos">
                <table class="table" id="invoicePanel">
                    <thead>
                        <tr>
                            <th scope="col">Product</th>
                            <th scope="col">Qty</th>
                            <th scope="col">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            if (ViewBag.Data != null)
                            {
                                <tr>
                                    <td>ViewBag.Data</td>
                                    <td>3</td>
                                    <td>4.33</td>
                                    <td><i class='ti-pencil pencilicon'></i></td>
                                    <td><i class='ti-close closeicon'></i></td>
                                </tr>
                            }

                        }
                        <tr>
                            <td>Sub-Total</td>
                            <td></td>
                            <td>$0.00</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Total</td>
                            <td></td>
                            <td>$0.00</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Due</td>
                            <td></td>
                            <td>$0.00</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <button class="btnpos makepay ptp" type="button" data-toggle="modal" data-target="#payment" data-whatever="">Make Payment</button>
                <button class="btnpos chargetomember ptp" type="button" data-toggle="modal" data-target="#" data-whatever="">Charge to Member</button>
                <button class="btnpos cancelpos ptp" type="button" data-toggle="modal" data-target="#cancel" data-whatever="">Cancel</button>
                <button class="btnpos completesale ptp" type="button" data-toggle="modal" data-target="#" data-whatever="">Complete Sale</button>
            </div>

        </div>
        <!-- Column -->
    </div>
@section scripts{
    <script type="text/javascript">
        function addProduct(data) {
            alert("Adding in the Product... " + data.id);
            var invoicePanel = document.querySelector('#invoicePanel');
            console.log(" Invoice Panel : " + invoicePanel);
            var rowcount = invoicePanel.rows.length;
            var row = invoicePanel.insertRow(1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            cell1.innerHTML = data.name;
            cell2.innerHTML = "ddaad";
            cell3.innerHTML = "dsdds";
            cell4.innerHTML = "<i class='ti-pencil pencilicon'></i>";
            cell5.innerHTML = "<i class='ti-close closeicon'></i>";
        } 
    </script>
}